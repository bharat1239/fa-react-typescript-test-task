"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var Lint = require("tslint/lib");
var nodeIsKind_1 = require("../helpers/nodeIsKind");
var Rule = /** @class */ (function (_super) {
    __extends(Rule, _super);
    function Rule() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Rule.prototype.apply = function (sourceFile) {
        return this.applyWithWalker(new PreferEs6ImportsWalker(sourceFile, this.getOptions()));
    };
    return Rule;
}(Lint.Rules.AbstractRule));
exports.Rule = Rule;
var PreferEs6ImportsWalker = /** @class */ (function (_super) {
    __extends(PreferEs6ImportsWalker, _super);
    function PreferEs6ImportsWalker() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PreferEs6ImportsWalker.prototype.visitImportEqualsDeclaration = function (node) {
        var sf = this.getSourceFile();
        var moduleReference = node.moduleReference;
        var bannedModuleRequires = this.getOptions();
        if (nodeIsKind_1.nodeIsKind(moduleReference, 'ExternalModuleReference') &&
            nodeIsKind_1.nodeIsKind(moduleReference.expression, 'StringLiteral')) {
            var modulePath = moduleReference.expression.getText(sf);
            var moduleName_1 = modulePath
                .split(/[\/\\]+/)
                .pop()
                .replace(/['"]/g, '');
            if (bannedModuleRequires.some(function (banned) { return moduleName_1 === banned; })) {
                this.addFailure(this.createFailure(node.getStart(sf), node.getWidth(sf), "use es6 import syntax when importing " + moduleName_1));
            }
        }
        _super.prototype.visitImportEqualsDeclaration.call(this, node);
    };
    return PreferEs6ImportsWalker;
}(Lint.RuleWalker));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlZmVyRXM2SW1wb3J0c1J1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJwcmVmZXJFczZJbXBvcnRzUnVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpQ0FBa0M7QUFFbEMsb0RBQWtEO0FBRWxEO0lBQTBCLHdCQUF1QjtJQUFqRDs7SUFNQSxDQUFDO0lBTE8sb0JBQUssR0FBWixVQUFhLFVBQXlCO1FBQ3JDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FDMUIsSUFBSSxzQkFBc0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQ3pELENBQUE7SUFDRixDQUFDO0lBQ0YsV0FBQztBQUFELENBQUMsQUFORCxDQUEwQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FNaEQ7QUFOWSxvQkFBSTtBQVFqQjtJQUFxQywwQ0FBZTtJQUFwRDs7SUFnQ0EsQ0FBQztJQS9CTyw2REFBNEIsR0FBbkMsVUFBb0MsSUFBZ0M7UUFDbkUsSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFBO1FBQ3ZCLElBQUEsc0NBQWUsQ0FBUztRQUNoQyxJQUFNLG9CQUFvQixHQUFhLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQTtRQUV4RCxJQUNDLHVCQUFVLENBQ1QsZUFBZSxFQUNmLHlCQUF5QixDQUN6QjtZQUNELHVCQUFVLENBQUMsZUFBZSxDQUFDLFVBQVUsRUFBRSxlQUFlLENBQUMsRUFDdEQ7WUFDRCxJQUFNLFVBQVUsR0FBRyxlQUFlLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUN6RCxJQUFNLFlBQVUsR0FBRyxVQUFVO2lCQUMzQixLQUFLLENBQUMsU0FBUyxDQUFDO2lCQUNoQixHQUFHLEVBQUU7aUJBQ0wsT0FBTyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQTtZQUV0QixJQUFJLG9CQUFvQixDQUFDLElBQUksQ0FBQyxVQUFBLE1BQU0sSUFBSSxPQUFBLFlBQVUsS0FBSyxNQUFNLEVBQXJCLENBQXFCLENBQUMsRUFBRTtnQkFDL0QsSUFBSSxDQUFDLFVBQVUsQ0FDZCxJQUFJLENBQUMsYUFBYSxDQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUNqQiwwQ0FBd0MsWUFBWSxDQUNwRCxDQUNELENBQUE7YUFDRDtTQUNEO1FBRUQsaUJBQU0sNEJBQTRCLFlBQUMsSUFBSSxDQUFDLENBQUE7SUFDekMsQ0FBQztJQUNGLDZCQUFDO0FBQUQsQ0FBQyxBQWhDRCxDQUFxQyxJQUFJLENBQUMsVUFBVSxHQWdDbkQifQ==